# 页面背景

目前项目中存在两个背景组件,页面使用的背景组件以及组件使用的背景组件

## 页面背景

页面分为三部分 `head` `body` `foot`,分别可以设置独立的背景.背景分为三种类型 `纯色背景` `图片背景` `视频背景`.点击相应区域,会显示相应的背景设置按钮,同时会把相应区域的背景组件实例( `backgroundBox` ) 存入 `backgroundStore` 中.点击背景设置按钮,打开背景设置弹窗.弹窗从 `backgroundStore` 读取对应区域的背景数据初始化设置项.

页面 `body区域` 的背景又分为两部分,中间内容区的背景(只能设置颜色)和整个body的背景.分别对应 **页面设置** 和 **背景设置** 两个按钮.

页面背景包括 `背景显示组件 backgroundBox` , `背景设置弹窗 backgroundPane` , `背景设置按钮 pageLeftButton` , `背景状态管理 backgroundStore` 组成.

背景设置弹窗的分为三个模块 `背景预览` `背景资源` `背景设置`.
+ 背景预览区 要与相应页面显示的背景保持同步(设置的颜色要同步,设置的图片要同步,设置的视频要同步播放).
+ 背景资源根据不同区域的背景请求不同的数据(head,foot 使用同一种数据源,body使用一种数据源,在请求函数内部切换api).
+ 背景设置项的设置要实时反馈在页面背景中,带滑动条的设置项采用了公用组件 sliders , 非通用设置项的小组件统一放在 `/src/components/set/background/` 中.


::: tip

最初是设计成一个统一的背景组件来使用的,包括页面背景,预览页面背景,组件背景,组件预览背景,但是因为种种原因,组件并没有使用这一套.包括后面的一些需求变更,里面有些判断条件已经是不必要的了,这个可以在性能优化的时候修改.

:::

## 组件背景